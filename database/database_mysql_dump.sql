BEGIN TRANSACTION;
CREATE TABLE "attendances" ("id" integer primary key autoincrement not null, "uid" integer not null default '0', "emp_id" integer not null, "state" tinyint(1) not null default '0', "attendance_time" time not null default '18:55:49', "attendance_date" date not null default '2025-10-16', "status" tinyint(1) not null default '1', "type" tinyint(1) not null default '0', "created_at" datetime, "updated_at" datetime, "break_start" time, "break_end" time, "time_in" time, "time_out" time, "break_duration" integer, "total_working_time" integer, "absence_reason" varchar, foreign key("emp_id") references "employees"("id") on delete cascade);
INSERT INTO "attendances" VALUES(1,0,1,0,'11:00:00','2025-10-01',1,0,'2025-10-20 18:32:05','2025-10-20 18:32:05','13:00','14:00',NULL,NULL,NULL,NULL,NULL);
INSERT INTO "attendances" VALUES(2,0,1,0,'11:00:00','2025-10-02',1,0,'2025-10-20 18:32:05','2025-10-20 18:32:05','13:00','14:00',NULL,NULL,NULL,NULL,NULL);
INSERT INTO "attendances" VALUES(3,0,1,0,'11:00:00','2025-10-03',1,0,'2025-10-20 18:32:05','2025-10-20 18:32:05','13:00','14:00',NULL,NULL,NULL,NULL,NULL);
INSERT INTO "attendances" VALUES(4,0,1,0,'11:00:00','2025-10-04',1,0,'2025-10-20 18:32:05','2025-10-20 18:32:05','13:00','14:00',NULL,NULL,NULL,NULL,NULL);
INSERT INTO "attendances" VALUES(5,0,1,0,'00:00:00','2025-10-05',0,0,'2025-10-20 18:32:05','2025-10-20 18:32:40',NULL,NULL,NULL,NULL,NULL,NULL,'krank');
INSERT INTO "attendances" VALUES(6,0,1,0,'00:00:00','2025-10-06',0,0,'2025-10-20 18:32:05','2025-10-20 18:32:05',NULL,NULL,NULL,NULL,NULL,NULL,'Not specified');
INSERT INTO "attendances" VALUES(7,0,1,0,'00:00:00','2025-10-07',0,0,'2025-10-20 18:32:05','2025-10-20 18:32:05',NULL,NULL,NULL,NULL,NULL,NULL,'Not specified');
INSERT INTO "attendances" VALUES(8,0,1,0,'11:00:00','2025-10-08',1,0,'2025-10-20 18:32:17','2025-10-20 18:32:17','13:00','14:00',NULL,NULL,NULL,NULL,NULL);
INSERT INTO "attendances" VALUES(9,0,1,0,'11:00:00','2025-10-09',1,0,'2025-10-20 18:32:17','2025-10-20 18:32:17','13:00','14:00',NULL,NULL,NULL,NULL,NULL);
CREATE TABLE "checks" ("id" integer primary key autoincrement not null, "emp_id" integer not null, "attendance_time" datetime not null, "leave_time" datetime, "created_at" datetime, "updated_at" datetime, foreign key("emp_id") references "employees"("id") on delete cascade);
CREATE TABLE employees (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, name VARCHAR(255) NOT NULL COLLATE "BINARY", restaurant VARCHAR(255) NOT NULL, permissions CLOB DEFAULT NULL COLLATE "BINARY", email_verified_at DATETIME DEFAULT NULL, remember_token VARCHAR(255) DEFAULT NULL COLLATE "BINARY", created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, member_since DATE DEFAULT NULL);
INSERT INTO "employees" VALUES(1,'ninja','bbc',NULL,NULL,NULL,'2025-10-20 18:31:24','2025-10-20 18:31:24','2005-01-03');
CREATE TABLE "failed_jobs" ("id" integer primary key autoincrement not null, "uuid" varchar not null, "connection" text not null, "queue" text not null, "payload" text not null, "exception" text not null, "failed_at" datetime not null default CURRENT_TIMESTAMP);
CREATE TABLE "finger_devices" ("id" integer primary key autoincrement not null, "name" varchar not null, "ip" varchar not null, "serialNumber" varchar not null, "created_at" datetime, "updated_at" datetime, "deleted_at" datetime);
CREATE TABLE "latetimes" ("id" integer primary key autoincrement not null, "emp_id" integer not null, "date" date not null, "time" time not null, "reason" text, "created_at" datetime, "updated_at" datetime, foreign key("emp_id") references "employees"("id") on delete cascade);
CREATE TABLE "leaves" ("id" integer primary key autoincrement not null, "emp_id" integer not null, "leave_date" date not null, "status" integer not null default '0', "reason" varchar, "leave_type" varchar, "duration" varchar, "created_at" datetime, "updated_at" datetime, foreign key("emp_id") references "employees"("id") on delete cascade);
CREATE TABLE "migrations" ("id" integer primary key autoincrement not null, "migration" varchar not null, "batch" integer not null);
INSERT INTO "migrations" VALUES(1,'2014_10_12_000000_create_users_table',1);
INSERT INTO "migrations" VALUES(2,'2014_10_12_100000_create_password_resets_table',1);
INSERT INTO "migrations" VALUES(3,'2019_08_19_000000_create_failed_jobs_table',1);
INSERT INTO "migrations" VALUES(4,'2019_11_25_113026_create_employees_table',1);
INSERT INTO "migrations" VALUES(5,'2019_12_02_141403_create_roles_table',1);
INSERT INTO "migrations" VALUES(6,'2019_12_03_044741_create_schedules_table',1);
INSERT INTO "migrations" VALUES(7,'2019_12_03_045452_create_attendances_table',1);
INSERT INTO "migrations" VALUES(8,'2019_12_14_000001_create_personal_access_tokens_table',1);
INSERT INTO "migrations" VALUES(9,'2019_12_22_183558_create_checks_table',1);
INSERT INTO "migrations" VALUES(10,'2021_06_05_110414_create_finger_devices_table',1);
INSERT INTO "migrations" VALUES(11,'2025_08_04_054440_add_name_to_schedules_table',1);
INSERT INTO "migrations" VALUES(12,'2025_08_04_add_break_times_to_schedules_and_attendances_v2',1);
INSERT INTO "migrations" VALUES(13,'2025_08_30_180028_create_leaves_table',1);
INSERT INTO "migrations" VALUES(14,'2025_08_31_add_break_duration_and_total_working_time_to_attendances_table',1);
INSERT INTO "migrations" VALUES(15,'2025_09_01_000000_add_absence_reason_to_attendances_table',1);
INSERT INTO "migrations" VALUES(16,'2025_09_02_000000_create_latetimes_table',1);
INSERT INTO "migrations" VALUES(17,'2025_09_02_000001_create_overtimes_table',1);
INSERT INTO "migrations" VALUES(18,'2025_09_22_210120_remove_email_from_employees_table',1);
INSERT INTO "migrations" VALUES(19,'2025_10_01_234107_rename_pin_code_to_restaurant_in_employees_table',1);
INSERT INTO "migrations" VALUES(20,'2025_10_01_235048_rename_restaurant_to_member_since_in_employees_table',1);
INSERT INTO "migrations" VALUES(21,'2025_10_02_001044_add_member_since_to_employees_table',1);
INSERT INTO "migrations" VALUES(22,'2025_10_07_222507_rename_position_to_restaurant_in_employees_table',1);
CREATE TABLE "overtimes" ("id" integer primary key autoincrement not null, "emp_id" integer not null, "date" date not null, "start_time" time not null, "end_time" time not null, "hours" numeric not null, "rate" numeric not null default '0', "amount" numeric not null default '0', "created_at" datetime, "updated_at" datetime, foreign key("emp_id") references "employees"("id") on delete cascade);
CREATE TABLE "password_resets" ("email" varchar not null, "token" varchar not null, "created_at" datetime);
CREATE TABLE "personal_access_tokens" ("id" integer primary key autoincrement not null, "tokenable_type" varchar not null, "tokenable_id" integer not null, "name" varchar not null, "token" varchar not null, "abilities" text, "last_used_at" datetime, "created_at" datetime, "updated_at" datetime);
CREATE TABLE "role_users" ("user_id" integer not null, "role_id" integer not null, foreign key("user_id") references "users"("id") on delete cascade, foreign key("role_id") references "roles"("id") on delete cascade, primary key ("user_id", "role_id"));
INSERT INTO "role_users" VALUES(1,1);
CREATE TABLE "roles" ("id" integer primary key autoincrement not null, "slug" varchar not null, "name" varchar not null, "permissions" text, "created_at" datetime, "updated_at" datetime);
INSERT INTO "roles" VALUES(1,'admin','Adminstrator',NULL,'2025-10-16 18:55:49','2025-10-16 18:55:49');
INSERT INTO "roles" VALUES(2,'employee','Employee',NULL,'2025-10-16 18:55:49','2025-10-16 18:55:49');
CREATE TABLE "schedule_employees" ("emp_id" integer not null, "schedule_id" integer not null, foreign key("emp_id") references "employees"("id") on delete cascade, foreign key("schedule_id") references "schedules"("id") on delete cascade);
INSERT INTO "schedule_employees" VALUES(1,1);
CREATE TABLE "schedules" ("id" integer primary key autoincrement not null, "slug" varchar not null, "name" varchar not null, "time_in" time not null, "time_out" time not null, "created_at" datetime, "updated_at" datetime, "break_start" time, "break_end" time);
INSERT INTO "schedules" VALUES(1,'schedule 1','schedule 1','11:00','22:00','2025-10-20 18:31:02','2025-10-20 18:31:02','13:00','14:00');
CREATE TABLE "users" ("id" integer primary key autoincrement not null, "name" varchar not null, "email" varchar not null, "pin_code" varchar, "permissions" text, "email_verified_at" datetime, "password" varchar not null, "remember_token" varchar, "created_at" datetime, "updated_at" datetime);
INSERT INTO "users" VALUES(1,'Admin','admin@simargmbh.com',NULL,NULL,NULL,'$2y$10$68bLQS4WWyNJSsdDREcPVeabDdGA5CPC8g12KXlhabvHPWb5KbVJi','g6puTHJh3y7TyQ2QrvmYFhZFcrt76J5wBGcSd4tMGNjyeADY6NHMli1zThdO','2025-10-16 18:55:49','2025-10-16 18:55:49');
CREATE UNIQUE INDEX "users_email_unique" on "users" ("email");
CREATE INDEX "password_resets_email_index" on "password_resets" ("email");
CREATE UNIQUE INDEX "failed_jobs_uuid_unique" on "failed_jobs" ("uuid");
CREATE UNIQUE INDEX "roles_slug_unique" on "roles" ("slug");
CREATE UNIQUE INDEX "schedules_slug_unique" on "schedules" ("slug");
CREATE INDEX "personal_access_tokens_tokenable_type_tokenable_id_index" on "personal_access_tokens" ("tokenable_type", "tokenable_id");
CREATE UNIQUE INDEX "personal_access_tokens_token_unique" on "personal_access_tokens" ("token");
CREATE UNIQUE INDEX "finger_devices_serialnumber_unique" on "finger_devices" ("serialNumber");
DELETE FROM "sqlite_sequence";
INSERT INTO "sqlite_sequence" VALUES('migrations',22);
INSERT INTO "sqlite_sequence" VALUES('employees',1);
INSERT INTO "sqlite_sequence" VALUES('users',1);
INSERT INTO "sqlite_sequence" VALUES('roles',2);
INSERT INTO "sqlite_sequence" VALUES('schedules',1);
INSERT INTO "sqlite_sequence" VALUES('attendances',9);
COMMIT;
